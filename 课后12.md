# æ•°ç»„

`Vector` æ˜¯ä½¿ç”¨æœ€å¹¿çš„æ•°æ®ç»“æ„ä¹‹ä¸€ã€‚æœ€å¸¸ç”¨çš„æœ‰ä¸¤ç§ï¼š`Vec` å’Œ `Array`ã€‚

- `Vec` æ˜¯ä¸€ä¸ªå¯å˜çš„æ•°ç»„ï¼Œå®ƒå¯ä»¥å¢é•¿æˆ–ç¼©å°ã€‚åŠ¨æ€æ•°ç»„ã€‚
- `Array` æ˜¯ä¸€ä¸ªå›ºå®šé•¿åº¦çš„æ•°ç»„ï¼Œå®ƒçš„é•¿åº¦æ˜¯å›ºå®šçš„ã€‚æ•°ç»„ã€‚

PSï¼šæ— è®º String è¿˜æ˜¯ Vector éƒ½æ˜¯é«˜çº§ç±»å‹ï¼šé›†åˆç±»å‹ã€‚

**PSSï¼šåœ¨ Rust ä¸­çš„æ•°ç»„å’Œå…¶ä»–è¯­è¨€ä¸åŒï¼Œæ˜¯å›ºå®šé•¿åº¦çš„ã€‚å…¶ä»–è¯­è¨€çš„æ•°ç»„æ˜¯å¯å˜çš„ï¼Œ ä¸ Rust ä¸­çš„ Vec ç±»ä¼¼ã€‚**

## åˆ›å»ºä¸€ä¸ª Array

```rust
let a = [1, 2, 3, 4, 5];
```

## åˆ›å»ºä¸€ä¸ª Vector

```rust
let v = vec![1, 2, 3, 4, 5];
```

- æ•°ç»„ array æ˜¯å­˜å‚¨åœ¨æ ˆä¸Šï¼Œæ€§èƒ½æ›´é«˜
- å‘é‡ vector æ˜¯å­˜å‚¨åœ¨å †ä¸Šï¼Œå½“é•¿åº¦ä¸ç¡®å®šæ—¶ä½¿ç”¨å‘é‡

æœ‰çš„æ—¶å€™ï¼Œè¿˜éœ€è¦ä¸ºæ•°ç»„å£°æ˜ç±»å‹ï¼Œå¦‚ä¸‹ï¼š

```rust
let a: [i32; 5] = [1,2,3,4,5];
```

i32 æ˜¯æ•°ç»„çš„ç±»å‹ï¼Œ5 æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚æ•°ç»„çš„å…ƒç´ ç±»å‹è¦ç»Ÿä¸€ï¼Œé•¿åº¦å›ºå®š

æŸä¸ªå€¼é‡å¤çš„æ•°ç»„ï¼š

```rust
let a = [3; 5]; // [3, 3, 3, 3, 3]
```

## è®¿é—®æ•°ç»„å…ƒç´ 

```rust
let a = [1, 2, 3, 4, 5];
let first = a[0];
let second = a[1];
```

## æ•°ç»„è¶Šç•Œ

```rust
use std::io;

fn main() {
    let a = [1, 2, 3, 4, 5];

    println!("Please enter an array index.");

    let mut index = String::new();
    // è¯»å–æ§åˆ¶å°çš„è¾“å‡º
    io::stdin()
        .read_line(&mut index)
        .expect("Failed to read line");

    let index: usize = index
        .trim()
        .parse()
        .expect("Index entered was not a number");

    let element = a[index];

    println!(
        "The value of the element at index {} is: {}",
        index, element
    );
}
```

## è¶Šç•Œè®¿é—®

åœ¨ Rust ä¸­ï¼Œè¶Šç•Œè®¿é—®ï¼ˆOut-of-bounds Accessï¼‰æ˜¯æŒ‡å°è¯•è®¿é—®æ•°ç»„ã€å‘é‡ï¼ˆVecï¼‰ã€åˆ‡ç‰‡ï¼ˆsliceï¼‰ç­‰å®¹å™¨ç±»å‹çš„ä¸€ä¸ªä¸å­˜åœ¨çš„ç´¢å¼•ä½ç½®ã€‚Rust è®¾è®¡äº†ä¸€å¥—ä¸¥æ ¼çš„æ‰€æœ‰æƒå’Œå€Ÿç”¨è§„åˆ™ç³»ç»Ÿï¼Œä»¥åŠç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶çš„æ£€æŸ¥ï¼Œä»¥é˜²æ­¢è¶Šç•Œè®¿é—®å’Œå…¶ä»–å®‰å…¨é—®é¢˜ã€‚

## æ•°ç»„å…ƒç´ ä¸ºéåŸºç¡€ç±»å‹

æ•°ç»„å…ƒç´ æ˜¯éåŸºæœ¬ç±»å‹

```rust
let array = [String::from("rust is good!"); 8];
```

åŸºæœ¬ç±»å‹åœ¨ Rust ä¸­èµ‹å€¼æ˜¯ä»¥ Copy çš„å½¢å¼ï¼Œè¿™æ—¶å€™ä½ å°±æ‡‚äº†å§ï¼Œlet array=[3;5]åº•å±‚å°±æ˜¯ä¸æ–­çš„ Copy å‡ºæ¥çš„ï¼Œä½†å¾ˆå¯æƒœå¤æ‚ç±»å‹éƒ½æ²¡æœ‰æ·±æ‹·è´ï¼Œåªèƒ½ä¸€ä¸ªä¸ªåˆ›å»ºã€‚

```rust
let array: [String; 8] = std::array::from_fn(|_i| String::from("rust is good!"));

println!("{:#?}", array);
```

## æ•°ç»„åˆ‡ç‰‡

```rust
let a: [i32; 5] = [1, 2, 3, 4, 5];

let slice: &[i32] = &a[1..3];

assert_eq!(slice, &[2, 3]);
```

- `let slice: &[i32]` æ˜¯ä¸€ä¸ªåˆ‡ç‰‡ç±»å‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„å¼•ç”¨
- `&a[1..3]` æ˜¯ä¸€ä¸ªæ•°ç»„çš„åˆ‡ç‰‡ï¼Œå®ƒåŒ…å«äº†æ•°ç»„çš„ç´¢å¼• 1 åˆ° 3 çš„å…ƒç´ 
- `assert_eq!(slice, &[2, 3])` æ˜¯ä¸€ä¸ªæ–­è¨€ï¼Œå®ƒæ–­è¨€ slice çš„å€¼ç­‰äº `[2, 3]`

## æ•°ç»„

1. ğŸŒŸ

```rust
fn main() {
    // ä½¿ç”¨åˆé€‚çš„ç±»å‹å¡«ç©º
    let arr: [i32: 5] = [1, 2, 3, 4, 5];

    // ä¿®æ”¹ä»¥ä¸‹ä»£ç ï¼Œè®©å®ƒé¡ºåˆ©è¿è¡Œ
    assert!(arr.len() == 4);
}
```

2. ğŸŒŸ

```rust
fn main() {
    // å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¿½ç•¥æ•°ç»„çš„éƒ¨åˆ†ç±»å‹ï¼Œä¹Ÿå¯ä»¥å¿½ç•¥å…¨éƒ¨ç±»å‹ï¼Œè®©ç¼–è¯‘å™¨å¸®åŠ©æˆ‘ä»¬æ¨å¯¼
    let arr0 = [1, 2, 3];
    let arr: [_; 3] = ['a', 'b', 'c'];

    // å¡«ç©º
    // æ•°ç»„åˆ†é…åœ¨æ ˆä¸Šï¼Œ `std::mem::size_of_val` å‡½æ•°ä¼šè¿”å›æ•´ä¸ªæ•°ç»„å ç”¨çš„å†…å­˜ç©ºé—´
    // æ•°ç»„ä¸­çš„æ¯ä¸ª char å…ƒç´ å ç”¨ 4 å­—èŠ‚çš„å†…å­˜ç©ºé—´ï¼Œå› ä¸ºåœ¨ Rust ä¸­ï¼Œ char æ˜¯ Unicode å­—ç¬¦
    assert!(std::mem::size_of_val(&arr) == 12);
}
```

3. ğŸŒŸ æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ å¯ä»¥ä¸€èµ·åˆå§‹åŒ–ä¸ºåŒä¸€ä¸ªå€¼

```rust
fn main() {
    // å¡«ç©º
    let list: [i32; 100] = [1; 100] ;

    assert!(list[0] == 1);
    assert!(list.len() == 100);
}
```

4. ğŸŒŸ æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ å¿…é¡»æ˜¯åŒä¸€ç±»å‹

```rust
fn main() {
    // ä¿®å¤é”™è¯¯
    let _arr = [1, 2, 3];
}
```

5. ğŸŒŸ

```rust
fn main() {
    let arr = ['a', 'b', 'c'];

    let ele = arr[0]; // åªä¿®æ”¹æ­¤è¡Œæ¥è®©ä»£ç å·¥ä½œ

    assert!(ele == 'a');
}
```

6. ğŸŒŸ

```rust

// ä¿®å¤ä»£ç ä¸­çš„é”™è¯¯
fn main() {
    let names = [String::from("Sunfei"), "Sunface".to_string()];

    // `get` è¿”å› `Option<T>` ç±»å‹ï¼Œå› æ­¤å®ƒçš„ä½¿ç”¨éå¸¸å®‰å…¨
    let name0 = names.get(0).unwrap();

    // ä½†æ˜¯ä¸‹æ ‡ç´¢å¼•å°±å­˜åœ¨è¶Šç•Œçš„é£é™©äº†
    let _name1 = &names[1];
}
```
