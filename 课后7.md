å¼•ç”¨ä¸å€Ÿç”¨

- borrow: å€Ÿç”¨
- è·å–å˜é‡çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯è·å–å˜é‡çš„æ‰€æœ‰æƒ

```rust
fn main() {
    let x = 5;
    let y = &x;

    assert_eq!(5, x);
    assert_eq!(5, *y);
}
```

è¿™é‡Œçš„ `&x` å°±æ˜¯ `x` çš„å¼•ç”¨ï¼Œ`&x` çš„ç±»å‹æ˜¯ `&i32`ï¼Œ`*y` å°±æ˜¯ `y` çš„å€¼ï¼Œ`*y` çš„ç±»å‹æ˜¯ `i32`ã€‚
å› æ­¤`assert_eq!(5, *y);`æ˜¯æ­£ç¡®çš„ï¼Œè€Œ`assert_eq!(5, y);`æ˜¯é”™è¯¯çš„ã€‚

ä¸å¯å˜å¼•ç”¨

```rust
fn main() {
    let s1 = String::from("hello");

    let len = calculate_length(&s1);

    println!("The length of '{}' is {}.", s1, len);
}

fn calculate_length(s: &String) -> usize {
    s.len()
}
```

s1 çš„å¼•ç”¨ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œè¿™é‡Œçš„å¼•ç”¨æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤å‡½æ•°å†…éƒ¨ä¸èƒ½ä¿®æ”¹ s1 çš„å€¼ã€‚`&`ç¬¦å·è¡¨ç¤ºå‚æ•° s æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå€¼ã€‚

å¯å˜å¼•ç”¨

```rust
fn main() {
    let mut s = String::from("hello");

    change(&mut s);
}

fn change(some_string: &mut String) {
    some_string.push_str(", world");
}
```

è¿™é‡Œçš„`&mut s`è¡¨ç¤º s æ˜¯ä¸€ä¸ªå¯å˜å¼•ç”¨ï¼Œå› æ­¤å‡½æ•°å†…éƒ¨å¯ä»¥ä¿®æ”¹ s çš„å€¼ã€‚
å¯å˜é¥®ç”¨åŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢æ•°æ®ç«äº‰ã€‚


è¿™ç§é™åˆ¶çš„å¥½å¤„å°±æ˜¯ä½¿ Rust åœ¨ç¼–è¯‘æœŸå°±é¿å…æ•°æ®ç«äº‰ï¼Œæ•°æ®ç«äº‰å¯ç”±ä»¥ä¸‹è¡Œä¸ºé€ æˆï¼š

ä¸¤ä¸ªæˆ–æ›´å¤šçš„æŒ‡é’ˆåŒæ—¶è®¿é—®åŒä¸€æ•°æ®
è‡³å°‘æœ‰ä¸€ä¸ªæŒ‡é’ˆè¢«ç”¨æ¥å†™å…¥æ•°æ®
æ²¡æœ‰åŒæ­¥æ•°æ®è®¿é—®çš„æœºåˆ¶


å¯å˜å¼•ç”¨ä¸ä¸å¯å˜å¼•ç”¨ä¸èƒ½åŒæ—¶å­˜åœ¨

```rust
fn main() {

    let mut s = String::from("hello");

    let r1 = &s; // æ²¡é—®é¢˜
    let r2 = &s; // æ²¡é—®é¢˜
    let r3 = &mut s; // å¤§é—®é¢˜

    println!("{}, {}, and {}", r1, r2, r3);

}
```

æ‚¬å‚å¼•ç”¨

```rust
fn main() {
    let reference_to_nothing = dangle();
}

fn dangle() -> &String { // dangle è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼•ç”¨

    let s = String::from("hello"); // s æ˜¯ä¸€ä¸ªæ–°å­—ç¬¦ä¸²

    &s // è¿”å›å­—ç¬¦ä¸² s çš„å¼•ç”¨
} // è¿™é‡Œ s ç¦»å¼€ä½œç”¨åŸŸå¹¶è¢«ä¸¢å¼ƒã€‚å…¶å†…å­˜è¢«é‡Šæ”¾ã€‚
  // å±é™©ï¼
```

è¿™é‡Œçš„ `&s` å°±æ˜¯ `s` çš„å¼•ç”¨ï¼Œ`&s` çš„ç±»å‹æ˜¯ `&String`ï¼Œ`s` çš„ç”Ÿå‘½å‘¨æœŸåœ¨å‡½æ•°ç»“æŸæ—¶å°±ç»“æŸäº†ï¼Œå› æ­¤ `&s` å°±æ˜¯ä¸€ä¸ªæ‚¬å‚å¼•ç”¨ã€‚
å› ä¸º s æ˜¯åœ¨ dangle å‡½æ•°å†…åˆ›å»ºçš„ï¼Œå½“ dangle çš„ä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œs å°†è¢«é‡Šæ”¾ï¼Œä½†æ˜¯æ­¤æ—¶æˆ‘ä»¬åˆå°è¯•å»è¿”å›å®ƒçš„å¼•ç”¨ã€‚è¿™æ„å‘³ç€è¿™ä¸ªå¼•ç”¨ä¼šæŒ‡å‘ä¸€ä¸ªæ— æ•ˆçš„ Stringï¼Œè¿™å¯ä¸å¯¹ï¼


- åŒä¸€æ—¶åˆ»ï¼Œä½ åªèƒ½æ‹¥æœ‰è¦ä¹ˆä¸€ä¸ªå¯å˜å¼•ç”¨, è¦ä¹ˆä»»æ„å¤šä¸ªä¸å¯å˜å¼•ç”¨
- å¼•ç”¨å¿…é¡»æ€»æ˜¯æœ‰æ•ˆçš„

ç»ƒä¹ 

1. ğŸŒŸ

```rust

fn main() {
   let x = 5;
   // å¡«å†™ç©ºç™½å¤„
   let p = &x;

   println!("x çš„å†…å­˜åœ°å€æ˜¯ {:p}", p); // output: 0x16fa3ac84
}
```

2. ğŸŒŸ

```rust

fn main() {
    let x = 5;
    let y = &x;

    // åªèƒ½ä¿®æ”¹ä»¥ä¸‹è¡Œ
    assert_eq!(5, *y);
}
```

3. ğŸŒŸ

```rust

// ä¿®å¤é”™è¯¯
fn main() {
    let mut s = String::from("hello, ");

    borrow_object(s)
}

fn borrow_object(s: &String) {}

```

4. ğŸŒŸ

```rust

// ä¿®å¤é”™è¯¯
fn main() {
    let mut s = String::from("hello, ");

    push_str(s)
}

fn push_str(s: &mut String) {
    s.push_str("world")
}
```

5. ğŸŒŸğŸŒŸ

```rust

fn main() {
    let mut s = String::from("hello, ");

    // å¡«å†™ç©ºç™½å¤„ï¼Œè®©ä»£ç å·¥ä½œ
    let p = __;
    
    p.push_str("world");
}
```